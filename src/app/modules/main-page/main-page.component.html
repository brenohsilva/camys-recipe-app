@if (isLoading) {
<main
  class="container-fluid d-flex flex-column justify-content-center align-content-center align-items-center m-3"
>
  <app-topbar></app-topbar>
  <div class="d-flex flex-column align-items-center">
    <div class="d-none d-md-flex my-5 mx-5">
      <img src="../../../assets/main_image.png" width="100%" alt="" />
    </div>
    <div class="d-flex d-md-none my-5 mx-5">
      <h1 style="font-size: 40px" class="my-5">
        O melhor lugar para encontrar <br />
        <strong class="fst-italic text-primary-emphasis">suas Receitas.</strong>
      </h1>
    </div>
    <div class="d-flex justify-content-center align-content-center w-100">
      <div
        class="d-flex align-items-center shadow p-2 my-3 border w-75 rounded-3"
      >
        <label
          class="d-flex justify-content-center align-items-center"
          for="search"
        >
          <svg
            xmlns="http://www.w3.org/2000/svg"
            height="24px"
            viewBox="0 -960 960 960"
            width="24px"
            fill="black"
          >
            <path
              d="M784-120 532-372q-30 24-69 38t-83 14q-109 0-184.5-75.5T120-580q0-109 75.5-184.5T380-840q109 0 184.5 75.5T640-580q0 44-14 83t-38 69l252 252-56 56ZM380-400q75 0 127.5-52.5T560-580q0-75-52.5-127.5T380-760q-75 0-127.5 52.5T200-580q0 75 52.5 127.5T380-400Z"
            />
          </svg>
        </label>
        <input
          class="border-0 px-3 p-2 ms-2 w-100"
          placeholder="Pesquise uma receita"
          type="text"
        />
      </div>
      <div class="d-flex justify-content-center align-content-center align-items-center ms-3"  >
        <svg
          xmlns="http://www.w3.org/2000/svg"
          height="28px"
          viewBox="0 -960 960 960"
          width="28px"
          fill="#000000"
        >
          <path
            d="M440-120v-240h80v80h320v80H520v80h-80Zm-320-80v-80h240v80H120Zm160-160v-80H120v-80h160v-80h80v240h-80Zm160-80v-80h400v80H440Zm160-160v-240h80v80h160v80H680v80h-80Zm-480-80v-80h400v80H120Z"
          />
        </svg>
      </div>
    </div>
    <div class="d-flex justify-content-center p-2 w-100">
      <div class="row d-flex gap-2">
        <a
          class="d-flex justify-content-center badge bg-primary col link-offset-2 link-underline link-underline-opacity-0"
          href=""
        >
          <svg
            class=""
            xmlns="http://www.w3.org/2000/svg"
            height="24px"
            viewBox="0 -960 960 960"
            width="24px"
          >
            <path
              d="M440-240q-117 0-198.5-81.5T160-520v-240q0-33 23.5-56.5T240-840h500q58 0 99 41t41 99q0 58-41 99t-99 41h-20v40q0 117-81.5 198.5T440-240ZM240-640h400v-120H240v120Zm200 320q83 0 141.5-58.5T640-520v-40H240v40q0 83 58.5 141.5T440-320Zm280-320h20q25 0 42.5-17.5T800-700q0-25-17.5-42.5T740-760h-20v120ZM160-120v-80h640v80H160Zm280-440Z"
            />
          </svg>
        </a>
        <a
          class="d-flex justify-content-center col badge bg-primary link-offset-2 link-underline link-underline-opacity-0"
          href=""
        >
          <svg
            xmlns="http://www.w3.org/2000/svg"
            height="24px"
            viewBox="0 -960 960 960"
            width="24px"
          >
            <path
              d="M100-80q-9 0-14.5-5.5T80-100v-60h560v60q0 9-5.5 14.5T620-80H100ZM80-240v-60q0-9 5.5-14.5T100-320h180v-80h160v80h180q9 0 14.5 5.5T640-300v60H80ZM720-80v-244q-36-41-58-81t-22-97v-378h240v378q0 57-21.5 97.5T800-324v164h80v80H720Zm0-560h80v-160h-80v160Zm40 242q18-21 29-48t11-56v-58h-80v58q0 29 10 56t30 48Zm0 0Z"
            />
          </svg>
          <!-- <h5><span class="badge text-bg-secondary fw-medium">Almoço</span></h5> -->
        </a>
        <a
          class="d-flex justify-content-center text-black badge bg-primary col link-offset-2 link-underline link-underline-opacity-0"
          href=""
        >
          <svg
            xmlns="http://www.w3.org/2000/svg"
            height="24px"
            viewBox="0 -960 960 960"
            width="24px"
          >
            <path
              d="M280-80v-366q-51-14-85.5-56T160-600v-280h80v280h40v-280h80v280h40v-280h80v280q0 56-34.5 98T360-446v366h-80Zm400 0v-320H560v-280q0-83 58.5-141.5T760-880v800h-80Z"
            />
          </svg>
          <!-- <h5><span class="badge text-bg-secondary fw-medium">Jantar</span></h5> -->
        </a>
        <a
          class="d-flex justify-content-center col badge bg-primary link-offset-2 link-underline link-underline-opacity-0"
          href=""
        >
          <svg
            xmlns="http://www.w3.org/2000/svg"
            height="24px"
            viewBox="0 -960 960 960"
            width="24px"
          >
            <path
              d="M160-120q-33 0-56.5-23.5T80-200v-120h800v120q0 33-23.5 56.5T800-120H160Zm0-120v40h640v-40H160Zm320-180q-36 0-57 20t-77 20q-56 0-76-20t-56-20q-36 0-57 20t-77 20v-80q36 0 57-20t77-20q56 0 76 20t56 20q36 0 57-20t77-20q56 0 77 20t57 20q36 0 56-20t76-20q56 0 79 20t55 20v80q-56 0-75-20t-55-20q-36 0-58 20t-78 20q-56 0-77-20t-57-20ZM80-560v-40q0-115 108.5-177.5T480-840q183 0 291.5 62.5T880-600v40H80Zm400-200q-124 0-207.5 31T166-640h628q-23-58-106.5-89T480-760Zm0 520Zm0-400Z"
            />
          </svg>
          <!-- <h5>
            <span class="badge text-bg-secondary fw-medium">Sobremesa</span>
          </h5> -->
        </a>
        <a
          class="d-flex justify-content-center col badge bg-primary link-offset-2 link-underline link-underline-opacity-0"
          href=""
        >
          <svg
            xmlns="http://www.w3.org/2000/svg"
            height="24px"
            viewBox="0 -960 960 960"
            width="24px"
          >
            <path
              d="M560-564v-68q33-14 67.5-21t72.5-7q26 0 51 4t49 10v64q-24-9-48.5-13.5T700-600q-38 0-73 9.5T560-564Zm0 220v-68q33-14 67.5-21t72.5-7q26 0 51 4t49 10v64q-24-9-48.5-13.5T700-380q-38 0-73 9t-67 27Zm0-110v-68q33-14 67.5-21t72.5-7q26 0 51 4t49 10v64q-24-9-48.5-13.5T700-490q-38 0-73 9.5T560-454ZM260-320q47 0 91.5 10.5T440-278v-394q-41-24-87-36t-93-12q-36 0-71.5 7T120-692v396q35-12 69.5-18t70.5-6Zm260 42q44-21 88.5-31.5T700-320q36 0 70.5 6t69.5 18v-396q-33-14-68.5-21t-71.5-7q-47 0-93 12t-87 36v394Zm-40 118q-48-38-104-59t-116-21q-42 0-82.5 11T100-198q-21 11-40.5-1T40-234v-482q0-11 5.5-21T62-752q46-24 96-36t102-12q58 0 113.5 15T480-740q51-30 106.5-45T700-800q52 0 102 12t96 36q11 5 16.5 15t5.5 21v482q0 23-19.5 35t-40.5 1q-37-20-77.5-31T700-240q-60 0-116 21t-104 59ZM280-494Z"
            />
          </svg>
        </a>
      </div>
    </div>
  </div>

  <div class="d-flex container m-4">
    <div class="row">
      @for (recipe of paginatedRecipes; track $index) {
      <div class="col-sm-6 col-md-4 rounded-4 mt-5">
        <div
          class="rounded-4"
          style="width: 100%; height: 220px; overflow: hidden"
        >
          <img
            src="{{ recipe.image }}"
            style="width: 100%; height: 100%; object-fit: cover"
            alt="imagem da receira"
          />
        </div>
        <div class="mt-2">
          <a
            style="cursor: pointer"
            class="link-offset-2 link-underline link-underline-opacity-0 text-black"
            (click)="openDialog(recipe)"
          >
            <h5>{{ recipe.name }}</h5>
          </a>
          <div
            class="d-flex flex-md-column flex-lg-row justify-content-lg-between align-items-lg-center justify-content-md-start align-items-md-start gap-md-2 justify-content-between align-items-center mt-2"
          >
            <p class="p-0 m-0">{{ recipe.time }} min</p>
            <div class="d-flex gap-2">
              @for (item of recipe.categories_selected; track $index) {
              <span class="badge rounded-pill text-bg-primary">{{
                item.categoriesId.name
              }}</span>
              }
            </div>
          </div>
        </div>
        <router-outlet></router-outlet>
      </div>
      }
    </div>
  </div>
  <div class="mt-2 mb-2">
    <div class="container my-auto">
      <nav aria-label="..." class="row justify-content-center">
        <ul
          class="pagination align-items-center my-auto col-5 justify-content-center"
        >
          <!-- Voltar -->
          <li class="page-item">
            <a
              class="btn on-hover border rounded-3 bg-primary p-1 me-3"
              (click)="previousPage()"
              [class.disabled]="currentPage === 1"
            >
            </a>
          </li>
          <!-- Números das páginas -->
          @for (page of pagesArray; track $index) {
          <li class="page-item">
            <a
              class="btn on-hover border rounded-3 bg-primary me-3 p-1"
              (click)="goToPage(page)"
              [ngClass]="{ active: page === currentPage }"
            ></a>
          </li>
          }
          <!-- Avançar -->
          <li class="page-item">
            <a
              class="btn on-hover border rounded-3 bg-primary p-1"
              (click)="nextPage()"
              [class.disabled]="currentPage === totalPages"
            >
            </a>
          </li>
        </ul>
      </nav>
    </div>
  </div>
  <footer class="m-auto w-75 mb-3">
    <div class="m-auto d-flex justify-content-end gap-3">
      <svg
        xmlns="http://www.w3.org/2000/svg"
        height="20px"
        viewBox="0 -960 960 960"
        width="20px"
        fill="#000000"
      >
        <path
          d="M320-120q-84 0-142-58t-58-142v-320q0-84 58-142t142-58h320q84 0 142 58t58 142v320q0 84-58 142t-142 58H320Zm0-80h320q51 0 85.5-34.5T760-320v-320q0-51-34.5-85.5T640-760H320q-51 0-85.5 34.5T200-640v320q0 51 34.5 85.5T320-200Zm160-80q-84 0-142-58t-58-142q0-84 58-142t142-58q84 0 142 58t58 142q0 84-58 142t-142 58Zm0-80q51 0 85.5-34.5T600-480q0-51-34.5-85.5T480-600q-51 0-85.5 34.5T360-480q0 51 34.5 85.5T480-360Z"
        />
      </svg>

      <svg
        xmlns="http://www.w3.org/2000/svg"
        height="20px"
        viewBox="0 -960 960 960"
        width="20px"
        fill="#000000"
      >
        <path
          d="M160-160q-33 0-56.5-23.5T80-240v-480q0-33 23.5-56.5T160-800h640q33 0 56.5 23.5T880-720v480q0 33-23.5 56.5T800-160H160Zm320-280L160-640v400h640v-400L480-440Zm0-80 320-200H160l320 200ZM160-640v-80 480-400Z"
        />
      </svg>

      <svg
        xmlns="http://www.w3.org/2000/svg"
        viewBox="0 0 50 50"
        width="20px"
        height="20px"
      >
        <path
          d="M41,4H9C6.24,4,4,6.24,4,9v32c0,2.76,2.24,5,5,5h32c2.76,0,5-2.24,5-5V9C46,6.24,43.76,4,41,4z M17,20v19h-6V20H17z M11,14.47c0-1.4,1.2-2.47,3-2.47s2.93,1.07,3,2.47c0,1.4-1.12,2.53-3,2.53C12.2,17,11,15.87,11,14.47z M39,39h-6c0,0,0-9.26,0-10 c0-2-1-4-3.5-4.04h-0.08C27,24.96,26,27.02,26,29c0,0.91,0,10,0,10h-6V20h6v2.56c0,0,1.93-2.56,5.81-2.56 c3.97,0,7.19,2.73,7.19,8.26V39z"
        />
      </svg>
    </div>
  </footer>
</main>
} @else {
<app-skeleton></app-skeleton>
}
